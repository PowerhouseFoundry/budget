/* src/styles/size-override.css
   - Scales ONLY the main game shell (.app-root)
   - Keeps Start/Character/Lifestyle true fullscreen
   - Prevents sideways scroll / white space
   - Preserves your existing “bigger UI” overrides (sidebar/topbar/tiles/grids)
*/

/* =========================
   1) Global scale behaviour (RESPONSIVE)
   ========================= */

:root{
  /* GLOBAL SCALE (tune these numbers only) */
  --app-scale: 0.78;

  /* Your UI sizing overrides */
  --sidebar-width: 320px;
  --topbar-height: 120px;
  --content-padding: 20px;
  --grid-gap: 16px;
  --tile-aspect: 1 / 1;
  --tile-min-height: 150px;
}

/* Prevent sideways scroll globally */
html, body{
  margin: 0;
  padding: 0;
  height: 100%;
  overflow-x: hidden;
}

/* Scale ONLY the main app shell (not intro screens) */
.app-root{
  position: relative;
  left: 50%;
  transform: translateX(-50%) scale(var(--app-scale));
  transform-origin: top center;

  /* ensures right side never gets clipped */
  width: calc(100vw / var(--app-scale));

  /* helps short screens not crop content */
  min-height: calc(100vh / var(--app-scale));

  overflow-x: hidden;
}

/* Intro screens stay fullscreen */
.start-screen,
.cs-screen,
.ls-screen{
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
}

/* ---------- Responsive scaling ----------
   These are the only places that change scale per device.
*/

/* Big desktops */
@media (min-width: 1600px) and (min-height: 900px){
  :root{ --app-scale: 0.82; }
}

/* Typical laptops (1366×768, 1440×900, etc.) */
@media (max-width: 1600px), (max-height: 900px){
  :root{ --app-scale: 0.76; }
}

/* Smaller laptops / iPad landscape */
@media (max-width: 1200px), (max-height: 820px){
  :root{ --app-scale: 0.72; }
}

/* iPads portrait */
@media (max-width: 1024px), (max-height: 760px){
  :root{ --app-scale: 0.74; }
}

/* Very small iPads / tight heights */
@media (max-width: 900px), (max-height: 700px){
  :root{ --app-scale: 0.72; }
}

/* =========================
   2) Your UI sizing overrides (kept)
   ========================= */

/* --- Sidebar sizing (safe) --- */
.sidebar{
  flex: 0 0 var(--sidebar-width);
  width: var(--sidebar-width);
  font-size: 1.5rem;
}
.sidebar .item{ padding: 24px 16px; font-size: 1.5rem; }
.sidebar .item span{ font-size: 1.5rem; }

/* --- Header sizing ONLY (don’t change layout parent) --- */
.topbar{
  min-height: var(--topbar-height);
  padding: 20px 28px;
  box-sizing: border-box;
  font-size: 2rem;
}

/* Keep header row from wrapping */
.topbar--full .topbar-row{
  display: flex !important;
  align-items: flex-end !important;
  flex-wrap: nowrap !important;
  gap: 24px;
}

/* Title grows on the left */
.month-title{
  flex: 1 1 auto !important;
  min-width: 0;
}

/* KPI cluster pushed to the far right */
.topbar--full .kpi-wrap--right{
  margin-left: auto !important;
  display: flex;
  gap: 28px;
}

.topbar .kpi div{ font-size: 2rem; }
.topbar .kpi{ min-width: 200px; }

/* --- Main content sizing --- */
.content{
  padding: var(--content-padding);
  box-sizing: border-box;
  overflow: auto;
}

/* --- Tiles keep square-ish aspect and images shrink-to-fit --- */
.tile,
.card.option,
.option-card,
.choice-tile,
.choice-card{
  position: relative;
  aspect-ratio: var(--tile-aspect);
  min-height: var(--tile-min-height);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  overflow: hidden;
}

.tile img,
.card.option img,
.option-card img,
.choice-tile img,
.choice-card img{
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
}

/* --- Grids (3 across) --- */
.options-grid,
.choices-grid,
.tiles-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--grid-gap);
  align-items: stretch;
}

.inbox-card{ aspect-ratio: auto; min-height: unset; }

/* --- Responsive tweaks for sidebar/header/tile sizes --- */
@media (max-width: 1200px){
  :root{ --sidebar-width: 280px; --topbar-height: 110px; }
}
@media (max-width: 960px){
  :root{ --sidebar-width: 248px; --topbar-height: 96px; --tile-min-height: 135px; }
}
